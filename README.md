# HTTP Web Framework

[![Release](https://img.shields.io/github/v/release/YALOKGARua/HTTP-Web-Framework)](https://github.com/YALOKGARua/HTTP-Web-Framework/releases)
[![CI](https://github.com/YALOKGARua/HTTP-Web-Framework/workflows/Continuous%20Integration/badge.svg)](https://github.com/YALOKGARua/HTTP-Web-Framework/actions)
[![License](https://img.shields.io/github/license/YALOKGARua/HTTP-Web-Framework)](LICENSE)
[![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20Linux%20%7C%20macOS-blue)](https://github.com/YALOKGARua/HTTP-Web-Framework)

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞ C++20 –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++20**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤–µ–π—à–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ C++ –≤–∫–ª—é—á–∞—è concepts, coroutines, ranges
- **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π I/O —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –ø—É–ª–æ–º –ø–æ—Ç–æ–∫–æ–≤
- **WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –ü–æ–ª–Ω–æ–¥—É–ø–ª–µ–∫—Å–Ω–∞—è —Å–≤—è–∑—å –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É WebSocket
- **GraphQL**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ GraphQL —Å—Ö–µ–º –∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **gRPC**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å gRPC –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **Event Sourcing**: –ü–∞—Ç—Ç–µ—Ä–Ω —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- **Circuit Breaker**: –ü–∞—Ç—Ç–µ—Ä–Ω –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏
- **Middleware System**: –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –ü–û
- **Dependency Injection**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **Command/Query Separation**: CQRS –ø–∞—Ç—Ç–µ—Ä–Ω
- **Real-time Streaming**: Server-Sent Events (SSE)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ç—Ä–µ–π—Å–∏–Ω–≥**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
- **–°–∂–∞—Ç–∏–µ**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ gzip/deflate
- **SSL/TLS**: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å OpenSSL
- **Rate Limiting**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Connection Pooling**: –ü—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –¥–ª—è –ë–î

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –†–µ–ª–∏–∑—ã
–°–∫–∞—á–∞–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã:
- [Windows x64](https://github.com/YALOKGARua/HTTP-Web-Framework/releases/latest/download/http-framework-windows.zip)
- [Linux x64](https://github.com/YALOKGARua/HTTP-Web-Framework/releases/latest/download/http-framework-linux.tar.gz)
- [macOS x64](https://github.com/YALOKGARua/HTTP-Web-Framework/releases/latest/download/http-framework-macos.tar.gz)

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- C++20 —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä (GCC 10+, Clang 10+, MSVC 2019+)
- CMake 3.16+
- OpenSSL (–¥–ª—è HTTPS)

### –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

```bash
git clone https://github.com/YALOKGARua/HTTP-Web-Framework.git
cd HTTP-Web-Framework
mkdir build && cd build
cmake .. -DCMAKE_BUILD_TYPE=Release
cmake --build . --parallel
```

### Docker

```bash
docker build -t http-framework .
docker run -p 8080:8080 http-framework
```

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```cpp
#include "http_framework.hpp"

using namespace http_framework;

int main() {
    core::Server::Config config;
    config.host = "0.0.0.0";
    config.port = 8080;
    config.thread_pool_size = std::thread::hardware_concurrency();
    
    Server server(config);
    auto router = std::make_shared<Router>();
    
    router->get("/", [](const Request& req, Response& res) {
        res.set_json_body(R"({"message": "Hello, World!"})");
    });
    
    router->get("/api/users/{id}", [](const Request& req, Response& res) {
        auto id = req.get_path_param("id");
        res.set_json_body("{\"user_id\": " + *id + "}");
    });
    
    router->post("/api/users", [](const Request& req, Response& res) {
        auto body = req.body_as_string();
        res.set_status_code(201);
        res.set_json_body("{\"message\": \"User created\"}");
    });
    
    server.use_router(router);
    server.start();
    
    return 0;
}
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Server**: –ì–ª–∞–≤–Ω—ã–π HTTP —Å–µ—Ä–≤–µ—Ä
- **Router**: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è URL –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
- **Request**: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ HTTP –∑–∞–ø—Ä–æ—Å–∞
- **Response**: –ü–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å HTTP –æ—Ç–≤–µ—Ç–∞
- **Middleware**: –ö–æ–Ω–≤–µ–π–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
```cpp
async::Task<void> async_handler(const Request& req, Response& res) {
    auto result = co_await database.query("SELECT * FROM users");
    res.set_json_body(result.to_json());
}
```

#### WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```cpp
router->websocket("/chat", [](websocket::Connection& conn) {
    conn.on_message([&](const string& message) {
        conn.broadcast(message);
    });
});
```

#### GraphQL API
```cpp
auto schema = graphql::Schema::builder()
    .type("User", {
        {"id", graphql::ID},
        {"name", graphql::String},
        {"email", graphql::String}
    })
    .query("users", [](const auto& args) {
        return user_service.get_all();
    })
    .build();

server.use_graphql("/graphql", schema);
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
cd build
ctest --output-on-failure
```

## üîß –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ GitHub Actions
–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–ª–∏–∑–∞:

```bash
git tag v1.0.0
git push origin v1.0.0
```

### –õ–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
```bash
# Windows
.\scripts\create_release.ps1 -Version "1.0.0" -Message "Initial release"

# Linux/macOS
./scripts/create_release.sh -v "1.0.0" -m "Initial release"
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Ç—Ä–µ–π—Å–∏–Ω–≥

–§—Ä–µ–π–º–≤–æ—Ä–∫ –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç—Ä–µ–π—Å–∏–Ω–≥–∞:

```cpp
auto tracer = tracing::Tracer::create("my-service");
auto span = tracer->start_span("database_query");
span->set_attribute("query", "SELECT * FROM users");
```

## üåü –ü—Ä–∏–º–µ—Ä—ã

- [`examples/modern_microservice.cpp`](examples/modern_microservice.cpp) - –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å
- GraphQL + gRPC –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- Event Sourcing –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- Circuit Breaker –ø–∞—Ç—Ç–µ—Ä–Ω

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É (`git checkout -b feature/amazing-feature`)
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE).

## üèÜ –°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏

- **Main**: [![CI](https://github.com/YALOKGARua/HTTP-Web-Framework/workflows/Continuous%20Integration/badge.svg?branch=main)](https://github.com/YALOKGARua/HTTP-Web-Framework/actions)
- **Releases**: [![Release Build](https://github.com/YALOKGARua/HTTP-Web-Framework/workflows/Release%20Build/badge.svg)](https://github.com/YALOKGARua/HTTP-Web-Framework/actions) 